<!DOCTYPE html>
<html>
<head>
<title>TEST4.html</title>
<meta name="content-type" content="text/html; charset=UTF-8">
<!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
</head>
<body>
	
	<canvas id="canvas" width="500" height="500" style="border:1px #000 solid;">
	该浏览器不支持canvas
	</canvas>

<script type="text/javascript">
setInterval(function(){
	var canvas = document.getElementById("canvas");
	var ctx = canvas.getContext("2d");
	ctx.fillRect(0,0,500,500);
	ctx.save();
	ctx.translate(250,250);
	ctx.beginPath();
	ctx.arc(0,0,200,0,Math.PI*2,true);
	ctx.clip();
	
	var LinearGradient = ctx.createLinearGradient(0,-300,0,250);//设定起始点
	LinearGradient.addColorStop(0, '#FF0000'); //渐变色0
	LinearGradient.addColorStop(1, '#004080');  //渐变色1
	
	ctx.fillStyle = LinearGradient;
	ctx.fillRect(-250,0,500,500);
	 for (var j=1;j<250;j++){//生成的粒子的密度
		 ctx.save();  
		 ctx.fillStyle = '#FFFF00';  
		 ctx.translate(250-Math.floor(Math.random()*500),  250-Math.floor(Math.random()*500));  
		 drawParticl(ctx,Math.floor(Math.random()*10)); //粒子生成
		 ctx.restore();  
	}  
		ctx.restore();
},100);

function drawParticl(ctx,r){//画粒子
	 ctx.save();  
	 ctx.beginPath()  
	 ctx.moveTo(r,0);  
	 for (var i=0;i<10;i++)
	 {  
		ctx.rotate(Math.PI/Math.random()*20);//旋转图形，这是生成图形的关键
		ctx.lineTo(r,0);  
	}  
	ctx.closePath();
	ctx.fill();  
	ctx.restore();  
}




</script>
	
</body>
</html>
